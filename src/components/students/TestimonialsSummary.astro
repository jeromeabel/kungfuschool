---
import { getCollection } from 'astro:content';

import Container from '@components/Container.astro';
import Section from '@components/Section.astro';
import H2 from '@components/H2.astro';

import TestimonialCard from '@components/students/TestimonialCard.astro';

const students = await getCollection('student');
---

<Section>
	<Container>
		<H2>What our students say</H2>
		<div class="flex flex-col items-start gap-16 py-8 lg:flex-row lg:py-16">
			{
				students.map(({ data }) => (
					<TestimonialCard
						image={data.avatar}
						name={data.first}
						year={data.yearOfPractice}
						text={data.testimonial}
					/>
				))
			}
		</div>
	</Container>
</Section>
